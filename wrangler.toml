name = "llm-api"
main = "src/index.js"
compatibility_date = "2023-12-01"

[vars]
# Target API endpoint (can be overridden in Cloudflare dashboard)
TARGET_API_URL = "https://api-inference.modelscope.cn/"

# Enable debug logging
DEBUG = false

# Admin password for accessing the management interface
ADMIN_PASSWORD = "111"

# Environment (development or production)
ENVIRONMENT = "development"

[durable_objects]
bindings = [
  { name = "LLM_PROXY_STORAGE", class_name = "LLMProxyStorage" }
]

[[migrations]]
tag = "v1"
new_sqlite_classes = ["LLMProxyStorage"]

[env.production]
vars = { ENVIRONMENT = "production" }

[build]
upload = { format = "modules", rules = [{ type = "Text", globs = ["**/*.html"] }] }

[dev]
port = 8787